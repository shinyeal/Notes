## 计算机网络



**ICMP**：Internet控制报文协议（Internet Control Message Protocol）。它是TCP/IP协议族的一个子协议，属于**网络层协议**，用于在IP主机、路由器之间传递控制消息。控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息。

**HTTP: **超文本传送协议 (HTTP-Hypertext transfer protocol) 定义了浏览器（即万维网客户进程）怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器。从层次的角度看，HTTP是面向**应用层协议**，它是万维网上能够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础。

**TCP:** 传输控制协议（Transmission Control Protocol ）是一种面向连接（连接导向）的、可靠的、基于IP的**传输层协议**，由IETF的RFC 793说明（specified）。TCP在IP报文的协议号是6。

**FTP: **文件传输协议（File Transfer Protocol）的英文简称，而中文简称为“文传协议”。用于Internet上的控制文件的双向传输。属于**应用层协议**。

**PDU:**协议数据单元（Protocol Data Unit ）是同一层次之间传输数据的单元，在**物理层**，PDU是数据位（bit）,**数据链路层**是 帧，**网络层**是 数据包，**传输层**是 数据段，更高层次是报文，自下而上，依次为:比特，帧，包，段







- 从逻辑上讲，一个计算机网络是由通信子网和资源子网构成的。
  - 资源子网由主机、终端及相关软件资源组成，他提供各种网络资源与服务，对应OSI模型中的上三层。
  - 通信子网由各种传输介质、通信设备和相关的网络协议组成，它为网络提供数据传输、交换和通信控制功能，对应OSI模型中的下三层。通信子网主要包括：中继器，集线器，网桥，路由器，网关等硬件设备。



### OSI 参考模型

- 七层模型：应用层，表示层，会话层，传输层，网络层，数据链路层，物理层
  - 物理层（Physical Layer）：利用传输介质为数据链路层提供物理连接，实现比特流的透明传输
  - 数据链路层（Data Link Layer）：负责建立和管理节点间的链路
  - 网络层（Network Layer）：通过路由选择算法，为报文或分组通过通信子网选择最适当的路径。控制数据链路层与传输层之间的信息转发，建立、维持和终止网络的连接。
  - 传输层（Transport Layer）：保证数据端到端的正确传输
  - 会话层（Session Layer），是用户应用程序和网络之间的接口，主要任务是：向两个实体的表示层提供建立和使用连接的方法。将不同实体之间的表示层的连接称为会话。因此会话层的任务就是组织和协调两个会话进程之间的通信，并对数据交换进行管理。
  - 表示层（Presentation Layer），它对来自应用层的命令和数据进行解释，对各种语法赋予相应的含义，并按照一定的格式传送给会话层。其主要功能是“处理用户信息的表示问题，如：数据格式处理、数据的编码、压缩和解压缩、加密和解密。
  - 应用层（Application Layer），它是计算机用户，以及各种应用程序和网络之间的接口，其功能是直接向用户提供服务，完成用户希望在网络上完成的各种工作。应用层为用户提供的服务和协议有：文件服务、目录服务、文件传输服务（FTP）、远程登录服务（Telnet）、电子邮件服务（E-mail）、打印服务、安全服务、网络管理服务、数据库服务等

#### TCP/IP 五层模型

- 应用层，传输层，网络层，数据链路层，物理层

#### OSI 参考模型的传送的数据单位：

- 物理层：比特
- 数据链路层：数据帧
- 网络层：分组（数据包）
- 传输层：数据段

#### OSI传送设备：

物理层：中继器

数据链路层：网桥、网卡，交换机

物理层：网线，集线器

网络层：路由器

网关：可以属于多层



### IP地址

- IP地址格式：IP地址=网络地址＋主机地址 或 IP地址=主机地址＋子网地址＋主机地址
- 分类

  - A类IP地址 

    - 一个A类IP地址由1字节的网络地址和3字节主机地址组成，网络地址的最高位必须是“0”， 地址范围从1.0.0.0 到126.0.0.0。可用的A类网络有126个，每个网络能容纳1亿多个主机。 
  - B类IP地址 

    - 一个B类IP地址由2个字节的网络地址和2个字节的主机地址组成，网络地址的最高位必须是“10”，地址范围从128.0.0.0到191.255.255.255。可用的B类网络有16382个，每个网络能容纳6万多个主机 。 
  - C类IP地址 
    - 一个C类IP地址由3字节的网络地址和1字节的主机地址组成，网络地址的最高位必须是“110”。范围从192.0.0.0到223.255.255.255。C类网络可达209万余个，每个网络能容纳254个主机。 
  - D类地址用于多点广播（Multicast）。 
    - D类IP地址第一个字节以“1110”开始，它是一个专门保留的地址。它并不指向特定的网络，目前这一类地址被用在多点广播（Multicast）中。多点广播地址用来一次寻址一组计算机，它标识共享同一协议的一组计算机。

分类的IP地址：

A类：1.0.0.1---126.255.255.254     子网掩码：255.0.0.0

B类：128.1.0.1--191.255.255.254  子网掩码：255.255.0.0

C类：192.0.1.1--223.255.255.254 子网掩码：255.255.255.0



**例1**

> 下列哪个地址是和 192.168.0.167/26 同网段的主机地址？
>
> ```
> A：192.168.0.1
> B：192.168.0.133
> C：192.168.0.192
> D：192.168.0.127
> ```
>
> 答案：B

解析：

这个主机地址后面的26很关键，说明它的子网掩码为11111111 11111111 11111111 11000000(26个1)，即255.255.255.192。**子网掩码与主机地址做与运算会得到网络地址，如果网络地址相同，那么属于同一网段。**255.255.255.192 “与” 192.168.0.167 的值为192.168.0.128，即为题目中的网络地址。

A选项：192.168.0.1“与”255.255.255.192等于192.168.0.0

B选项：192.168.0.133“与”255.255.255.192等于192.168.0.128

C选项：192.168.0.192“与”255.255.255.192等于192.168.0.192

D选项：192.168.0.127“与”255.255.255.192等于192.168.0.64

**例2**

> 一个局域网中某台主机的ip地址为176.68.160.12，使用22位作为网络地址，最多可以连接的主机数为（1022）

解析：

 有22位作为网络地址那么说明有10位是主机号(32 - 22 = 10)，其中全零全一的不能用，故最多的主体数为：2^10 - 2 = 1022





#### 子网掩码



 

相关博客：https://blog.csdn.net/kzadmxz/article/details/73658168



### TCP 和 UDP

#### TCP

TCP的优点： 

- 可靠，稳定 TCP的可靠体现在TCP在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源。 

TCP的缺点： 

- 慢，效率低，占用系统资源高，易被攻击 TCP在传递数据之前，要先建连接，这会消耗时间，而且在数据传递时，确认机制、重传机制、拥塞控制机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个连接都会占用系统的CPU、内存等硬件资源。 而且，因为TCP有确认机制、三次握手机制，这些也导致TCP容易被人利用，实现DOS、DDOS、CC等攻击。

什么时候应该使用TCP： 

- 当对网络通讯质量有要求的时候，比如：整个数据要准确无误的传递给对方，这往往用于一些要求可靠的应用，比如HTTP、HTTPS、FTP等传输文件的协议，POP、SMTP等邮件传输的协议。 在日常生活中，常见使用TCP协议的应用如下： 浏览器，用的HTTP FlashFXP，用的FTP Outlook，用的POP、SMTP Putty，用的Telnet、SSH QQ文件传输 ………… 

#### UDP

UDP的优点：

- 快，比TCP稍安全 UDP没有TCP的握手、确认、窗口、重传、拥塞控制等机制，UDP是一个无状态的传输协议，所以它在传递数据时非常快。没有TCP的这些机制，UDP较TCP被攻击者利用的漏洞就要少一些。但UDP也是无法避免攻击的，比如：UDP Flood攻击…… 
- UDP的缺点： 不可靠，不稳定 因为UDP没有TCP那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。 

什么时候应该使用UDP： 

- 当对网络通讯质量要求不高的时候，要求网络通讯速度能尽量的快，这时就可以使用UDP。 比如，日常生活中，常见使用UDP协议的应用如下： QQ语音 QQ视频 TFTP ……

#### TCP与UDP区别总结：

- TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接
- TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付
- TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的
- UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）
- 每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信
- TCP首部开销20字节;UDP的首部开销小，只有8个字节
- TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道



相关博客：https://www.cnblogs.com/xiaomayizoe/p/5258754.html









-----

 

- 将 IP 地址转换为物理地址的协议是ARP，反之将物理地址转换成IP地址的是RARP
  - 地址解析协议，即ARP（Address Resolution Protocol），是根据IP地址获取物理地址的一个TCP/IP协议。
  - 反向地址转换协议（RARP：Reverse Address Resolution Protocol） 反向地址转换协议（RARP）允许局域网的物理机器从网关服务器的 ARP 表或者缓存上请求其 IP 地址
- 以太网的介质访问控制方式是CSMA/CD（载波监听多路访问)及(冲突检测)技术，并以10M/S的速率运行在多种类型的电缆上。
- 如果网络层使用数据报服务，为每个到来的分组做路由选择
- 电路交换和分组交换
  - 电路交换是通信双方独占一条信道的交换方式，时延很小，但是信道利用率低。 
  - 分组交换是一种先存储再转发的交换方式，由于有个先存储的步骤，所以时延比较高。 交换机将在有可用的信道的时候将存储的数据转发出去。这种方式信道利用率高。
- 公钥密码体制中，密钥是成对生成的，每对密钥由一个公钥和一个私钥组成。在实际应用中，私钥由拥有者自己保存，而公钥则需要公布于众。
- 局域网通信协议一般采用TCP/IP协议
  - 局域网中常用通信协议有三种：NETBEUI/NETBIOS协议，IPX/SPX协议，TCP/IP协议。
- 127.0.0.1 属于哪一类特殊地址：回环地址（回环地址表示本机的地址，常用于对本机的测试，用的最多的是127.0.0.1）
- 公用交换电话网即PSTN（Public Switched Telephone Network），它是以电路交换为信息交换方式，以电话业务为主要业务的电信网。
- 在 Internet 域名体系中，域的下面可以划分子域，各级域名用圆点分开，按照从右到左越来越小的方式分多层排列
- 在 Internet 域名体系中，域的下面可以划分子域，各级域名用圆点分开，按照从右到左越来越小的方式分多层排列
  - 不只是四层，域名空间分级结构如一棵倒立的树，根节点不代表任何具体的域，被称为根域；再根域之下，是几百个顶级域，每个顶级域除包含许多主机外，还可被进一步划分为子域；子域之下可以有主机，也可有更小的子域。
- 目前,最流行的以太网组网的拓扑结构是星型结构
  - 早期以太网采用的拓扑结构基本是总线型。已经逐渐被**以集线器和交换机为核心的星型网络**所代替
  - 星型结构与网状结构的区别在于：是否存在中心节点
- 一个 16 口的**集线器**连接了 10 台 PC ，这里有多少个冲突域？   1个
  - 集线器不分割冲突域，交换机分割冲突域！